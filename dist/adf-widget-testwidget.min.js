!function(e,t){"use strict";angular.module("adf.widget.testwidget",["adf.provider","pdf","firebase","ui.tree","ngDialog"]).config(["dashboardProvider",function(e){e.widget("tocwidget",{title:"-Table of Contents",titleTemplateUrl:"{widgetsPath}/testwidget/src/title.html",description:"Prototype LLP Platform App",controller:"PhdTocWidgetCtrl",controllerAs:"toc",templateUrl:"{widgetsPath}/testwidget/src/view.html",frameless:!0,reload:!0,immediate:!1,styleClass:"card",edit:{templateUrl:"{widgetsPath}/testwidget/src/edit.html",modalSize:"lg",controller:"CKEditorCtrl",reload:!1},resolve:{config:["config","$firebaseArray","$rootScope","FIREBASE_URL","$stateParams",function(e,t,o,a,l){if(e.id)return e;var i=l,d=i.tabid||i.pageid||i.pId;return e.id=d,e}]}}).widget("ckwidget-less",{title:"-LexPad",titleTemplateUrl:"{widgetsPath}/testwidget/src/title.html",description:"text editor",controller:"CKEWidgetCtrl",templateUrl:"{widgetsPath}/testwidget/src/ckeditor.html",frameless:!0,reload:!0,immediate:!0,styleClass:" panel-default",edit:{templateUrl:"{widgetsPath}/testwidget/src/editckeditor.html",modalSize:"lg",controller:"CKEditorCtrl",reload:!0},resolve:{config:["config","Collections","$rootScope","FIREBASE_URL","ckdefault",function(e,t,o,a,l){if(e.id)return e;var i=t();return i.$add({name:"draft"}).then(function(t){var o=t.key();return t.update({id:o,ispublished:!1,content_type:"document",templateUrl:"{widgetsPath}/getphd/src/view.html",timestamp:Firebase.ServerValue.TIMESTAMP}),e.id=o,e.framename="fframe",e.height="90vh",e}),e}]}}).widget("ckwidget",{title:"+LexPad",titleTemplateUrl:"{widgetsPath}/testwidget/src/title.html",description:"text editor",controller:"CKEWidgetCtrl",templateUrl:"{widgetsPath}/testwidget/src/ckeditor.html",frameless:!0,reload:!0,immediate:!0,styleClass:"panel panel-default",edit:{templateUrl:"{widgetsPath}/testwidget/src/editckeditor.html",modalSize:"lg",controller:"CKEditorCtrl",reload:!0},resolve:{config:["config","Collections","$rootScope","FIREBASE_URL","ckdefault",function(e,t,o,a,l){if(e.id)return e;var i=t();return i.$add({name:"draft"}).then(function(t){var o=t.key();return t.update({id:o,ispublished:!1,content_type:"document",templateUrl:"{widgetsPath}/getphd/src/view.html",timestamp:Firebase.ServerValue.TIMESTAMP}),e.id=o,e.framename="fframe",e.height="90vh",e}),e}]}}).widget("embed-less",{title:"Embed",titleTemplateUrl:"{widgetsPath}/testwidget/src/title.html",description:"embed arbitrary content from remote sites",template:'<div ng-bind-html="configs[0]"></div>',controller:["$sce","config","$scope","$compile",function(e,t,o,a){o.configs=a(e.trustAsHtml(t.content))(o)}],styleClass:"card card-block",frameless:!1,reload:!0,edit:{template:'<div class="card"><label for="content">Enter embed code</label><textarea name="content" class="form-control" ng-model="config.content"></textarea></div>',immediate:!0,reload:!0}})}]).controller("PDFController",["$scope","pdfDelegate","config","Collection",function(e,t,o,a){var l=this;l.config=o,o.url?e.pdfUrl=o.url:o.id&&a(o.id).$loaded().then(function(e){l.item=e})}]).controller("PhdTocWidgetCtrl",["$scope","config","ckdefault","ckmin","Collection","$controller","$rootScope","$ACTIVEROAR","Collections","$q","$state","ckstarter","ckender","GadgetFactory",function(e,t,o,a,l,i,d,r,n,s,c,p,f,g){e.size="lg";var p=p,f=f,u=this;e.config=t,e.ckdefault=o,e.ckmin=a,c.includes("roartheatre")?(e.parentstate="theatretoptab",t.editable=!1,$("#dragbutton").hide()):e.parentstate="toptab",u.broadcast=function(e){d.$broadcast("TABLEOFCONTENTS",e)},u.returnroot=function(){d.$broadcast("RETURNROOT",t.id)},u.canedit=function(){return!!d.$state.includes("projectdashboard")||!d.$state.includes("roartheatre")&&void 0},u.editable=!1,e.$on("adfToggleEditMode",function(){u.editable=!u.editable}),u.tree=l(t.id),u.tree.$bindTo(e,"tree"),e.revealclipboard=function(e){d.$broadcast("OPENCLIPBOARD",e),alertify.log("OPEN CLIPBOARD")},e.loaddraft=function(t){var o=l(t);o.$bindTo(e,"tree")};var m=function(e,t){var o=l(e).$ref(),a={titleTemplateUrl:"/llp_core/modules/lionlawlabs/partial/projectdashboard/tabs/memo/title.html",structure:"4-8",styleClass:"PTO",isActive:!0,editable:!0,collapsible:!0,maximizable:!0,enableConfirmDelete:!0,hideme:!1,isRoot:!1,rows:[{columns:[{styleClass:"col-sm-4",widgets:[{type:"tocwidget",title:"Table of Contents",config:{id:t}}]},{styleClass:"col-md-8",widgets:[{type:"ckwidget",title:"",config:{id:e,editor:"ckdefault"}}]}]}]};return o.update(a),o.key()},b=function(){var e=this;return e.title="Section Title",e.content=p+'<div class="card card-block" style="padding: 10px 20px;"><p>Section content</p></div>'+f,e.isnotRoot=!0,e};u.newtopsection=function(){var o=l(e.tree.id).$ref();n().$add(new b).then(function(e){var a=e.key();m(a,t.id),e.update({id:a}),o.child("roarlist").child(a).set(a),d.$broadcast("BUILDTABS")})},u.newsubsection=function(e){if(angular.isUndefined(e.$nodeScope.$modelValue))var o=e.$nodeScope.node;else var o=e.$nodeScope.$modelValue;var a=l(o.$id).$ref();n().$add(new b).then(function(e){var o=e.key();m(o,t.id),e.update({id:o}),a.child("roarlist").child(o).set(o),d.$broadcast("BUILDTABS")})},u.opensubsection=function(e){alertify.log("TOC OUT"),d.$broadcast("TABLEOFCONTENTS",e.id||e)},u.togglemode=function(){var t=function(e){e.roarlist?angular.forEach(e.roarlist,function(e,o){t(e)}):alertify.log(e.content)};t(e.tree),console.log(u.builddoc()),alertify.log(u.builddoc())};var h="<!DOCTYPE html><html><head><link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css'/></head><body>",v="</body></html>";u.builddoc=function(){var t=s.defer(),o=[];o.push(h);var a=function(e,t,i){e&&e.content&&(console.log(t,e.title),o.push(e.title,e.content)),e&&e.roarlist&&angular.forEach(e.roarlist,function(e,o){a(e,t+=1,e.roarlist)}),e&&!e.id&&l(e).$loaded().then(function(e){a(e,t+=1)})};try{a(e.tree,0)}catch(i){console.log(i)}finally{o.push(v),t.resolve(o)}return t.promise}}]).controller("CKEditorCtrl",["$scope","config","ckdefault","ckmin","ckclip","ckreport","$sce","ROARCLASSES","$stateParams","Collection",function(e,t,o,a,l,i,d,r,n,s){var c=[{name:"Default",obj:o}],p=s(n.pId);e.tree=p,e.ROARCLASSES=[{label:"Memo Basic",value:"llp-memo-draft-basic"}],e.config=t,e.editors=c}]).controller("CKEWidgetCtrl",["$scope","config","ckdefault","ckmin","Collection","$controller","$rootScope","ckclip","ckreport","$ACTIVEROAR","$state","$stateParams","$sce","$compile","ckstarter","ckender","toastr","Users","Profile","$http","Upload","$uibModal","$window","$location","$interval",function(t,o,a,l,i,d,r,n,s,c,p,f,g,u,m,b,h,v,w,x,y,k,C,S,T){t.size="lg";var P=i(o.id);e.CKID=o.id,t.draft=P,t.b=P,p.includes("composer")&&(t.inlab=!0),t.ckclip=n,t.ckreport=s,t.config=o,t.ckdefault=a,t.ckmin=l,t.ckstarter=m,t.ckender=b,$("#dragbutton").draggable({cursor:"move"}),t.poodle={showeditor:!1,slidemode:!1},t.profile=w(r.authData.uid),t.menu={items:[{icon:"fa-pencil",label:"Toggle Edit Mode",styleClass:"text-info",onClick:function(t){return e.CKID=o.id,o.showeditor=!o.showeditor}},{icon:"fa-upload",label:"Upload",styleClass:"",onClick:function(e){var o=((new Date).getTime(),new Blob([e.content.toString()]));return y.upload({url:"/upload/",data:{file:y.rename(o,t.draft.$id+".html")}})}}]},t.openpreview=function(e){var t="/files/uploads/"+e.$id+".html";C.open(t,null,"toolbar=yes,location=yes,status=yes,menubar=yes,scrollbars=yes,resizable=yes,fullscreen=no")},t.dowrap=function(e){t.draft.content=m+e.slice(e.indexOf("<body"),e.indexOf("<script"))+b;var o=new Blob([t.draft.content.toString()]);return t.draft.lastModified=time,t.draft.$save(),y.upload({method:"POST",url:"/upload",data:{file:y.rename(o,t.draft.$id+".html")}}).then(function(e,o){if(e)console.log(e),alertify.error(e);else{var a=o.data;console.log(a),alertify.success(a),t.poodle.showeditor=!t.poodle.showeditor}})};t.doclose=function(){t.poodle.showeditor=!1},t.dosave=function(e){var o=new Date,a=o.getTime(),l=new Blob([e.content.toString()]);return t.draft=e,t.draft.lastModified=a,t.draft.$save(),y.upload({method:"POST",url:"/upload",data:{file:y.rename(l,t.draft.$id+".html")}}).then(function(e,o){if(e)console.log(e),alertify.error(e);else{var a=o.data;console.log(a),alertify.success(a),t.poodle.showeditor=!t.poodle.showeditor}})},t.getAuthor=function(e){return v.all.$getRecord(e).auth.profile.name},t.ckdefault=a,o.id!==t.$parent.$parent.$parent.adfModel.$id&&$(this).css({border:"1px dotted red"}),t.updateid=function(){t.$parent.$parent.config.id=t.$parent.$parent.$parent.adfModel.$id,t.$parent.$parent.reload()},t.$on("RETURNROOT",function(e,o){t.$parent.$parent.config.id=o,t.$parent.$parent.reload()}),t.$on("TABLEOFCONTENTS",function(e,o){alertify.log("TOC REC"),alertify.log(o),t.$parent.$parent.config.id=o,t.$parent.$parent.reload(),t.loaddraft(o)})}]).directive("tableOfContents",["Collection","$rootScope",function(e,t){return{restrict:"E",controller:"TocWidgetCtrl",controllerAs:"toc",bindToController:!0,templateUrl:"{widgetsPath}/testwidget/src/view.html",scope:{},link:function(t,o,a,l){var i=a.root;e(i).$loaded().then(function(e){e.$bindTo(t,"tree")}),t.config={id:i}}}}]).controller("TocWidgetCtrl",["$scope","ckdefault","ckmin","Collection","$controller","$rootScope","$ACTIVEROAR","Collections","$q","$state","ckstarter","ckender","GadgetFactory",function(e,t,o,a,l,i,d,r,n,s,c,p,f){e.size="lg";var c=c,p=p,g=this;e.ckdefault=t,e.ckmin=o,g.canedit=function(){return!!i.$state.includes("projectdashboard")||!i.$state.includes("roartheatre")&&void 0},g.editable=!1,e.$on("adfToggleEditMode",function(){g.editable=!g.editable}),e.revealclipboard=function(e){i.$broadcast("OPENCLIPBOARD",e),alertify.log("OPEN CLIPBOARD")};var u=function(e,t){var o=a(e).$ref(),l={titleTemplateUrl:"/llp_core/modules/lionlawlabs/partial/projectdashboard/tabs/memo/title.html",structure:"4-8",styleClass:"PTO",isActive:!0,editable:!0,collapsible:!0,maximizable:!0,enableConfirmDelete:!0,hideme:!1,isRoot:!1,rows:[{columns:[{styleClass:"col-sm-4",widgets:[{type:"tocwidget",title:"Table of Contents",config:{id:t}}]},{styleClass:"col-md-8",widgets:[{type:"ckwidget",title:"",config:{id:e,editor:"ckdefault"}}]}]}]};return o.update(l),o.key()},m=function(){var e=this;return e.title="Section Title",e.content=c+'<div class="card card-block" style="padding: 10px 20px;"><p>Section content</p></div>'+p,e.isnotRoot=!0,e};g.newtopsection=function(){var t=a(e.tree.id).$ref();r().$add(new m).then(function(e){var o=e.key();u(o,config.id),e.update({id:o}),t.child("roarlist").child(o).set(o),i.$broadcast("BUILDTABS")})},g.newsubsection=function(e){if(angular.isUndefined(e.$nodeScope.$modelValue))var t=e.$nodeScope.node;else var t=e.$nodeScope.$modelValue;var o=a(t.$id).$ref();r().$add(new m).then(function(e){var t=e.key();u(t,config.id),e.update({id:t}),o.child("roarlist").child(t).set(t),i.$broadcast("BUILDTABS")})}}]),angular.module("adf.widget.frame",["adf.provider"]).config(["dashboardProvider",function(e){e.widget("iframe",{title:"+LexFrame",description:"Embed an external page into the dashboard",templateUrl:"{widgetsPath}/iframe/src/view.html",controller:"iframeController",controllerAs:"iframe",frameless:!0,reload:!0,styleClass:"card",edit:{controller:"iframeController",templateUrl:"{widgetsPath}/iframe/src/edit.html"},config:{height:"60vh",framename:"fframe"}}).widget("iframe-less",{title:"-LexFrameViewer",description:"Embed an external page into the dashboard",templateUrl:"{widgetsPath}/iframe/src/view.html",controller:"iframeController",controllerAs:"iframe",frameless:!0,reload:!0,styleClass:"card",edit:{controller:"iframeController",templateUrl:"{widgetsPath}/iframe/src/edit.html"},config:{height:"60vh",framename:"fframe"}})}]).controller("iframeController",["$sce","config","ckdefault","$scope","$rootScope",function(e,t,o,a,l){t.url&&(this.url=e.trustAsResourceUrl(t.url)),t.iframe===!0&&(this.srcdoc=e.trustAsHtml(t.srcdoc)),a.destroy=function(){l.$broadcast("adfToggleEditMode")},a.ckdefault=o}]),angular.module("adf.widget.frame").run(["$templateCache",function(e){e.put("{widgetsPath}/iframe/src/edit.html","<form role=form><div class=form-group><label for=url>URL</label> <input type=url class=form-control id=url ng-model=config.url placeholder=http://www.example.com></div><div class=form-group><label for=height>Height</label> <input type=text class=form-control id=height ng-model=config.height></div><div class=form-group><label for=name>Frame name (for url targets)</label> <input type=text class=form-control id=name ng-model=config.framename></div><div class=form-group><label for=name>Use srcdoc instead of url?</label> <input type=checkbox class=form-control id=name ng-model=config.iframe ng-change=destroy()></div><textarea ng-if=\"config.iframe\"ckeditor=ckdefault ng-model=config.srcdoc  ng-model-options=\"{updateOn: 'default blur', debounce: {'default': 20000, 'blur': 0}}\" ng-change='destroy()'></div></form>"),e.put("{widgetsPath}/iframe/src/view.html",'<div><iframe class="adf-iframe" style="height: {{config.height}};width:100%;" ng-attr-srcdoc={{iframe.srcdoc}} ng-src={{iframe.url}} seamless allowfullscreen name="fframe"></iframe></div>')}]),angular.module("adf.widget.testwidget").run(["$templateCache",function(e){e.put("{widgetsPath}/testwidget/src/ckeditor.html",'<div class=card style="margin:0;padding: 0;height:80vh;"><div id=toolbartop class="row toolbar fade" ng-class="{\'in\':poodle.showeditor}"></div><form name=editorform ng-submit=dosave(b); ng-if=poodle.showeditor><textarea id=editorta name=editorta ng-change ckeditor=ckdefault ng-if=!poodle.slidemode ng-model=b.content ng-model-options="{ updateOn: \'default blur\', debounce: {\'default\': 500, \'blur\': 0} }" class="card card-block" style=width:100%;font-size:12px;color:#444;></textarea> <textarea id=editora name=editora ng-change ckeditor=ckdefault ng-if=poodle.slidemode ng-model=b.slide ng-model-options="{ updateOn: \'default blur\', debounce: {\'default\': 500, \'blur\': 0} }" class="card card-block" style=width:100%;font-size:12px;color:#444;></textarea><div class=btn-group style=position:absolute;top:25px;right:5px;><input type=submit style="border-radius:0;padding: 5px 5px;box-shadow:1px 1px 5px rgba(0,0,0,0.5), inset 0 0 2px rgba(0,0,0,0.1);border:1px solid white;" class="button btn fa" ng-class="{\'text-success\':editorform.editorta.$dirty}" value=SAVE> <button style="border-radius:0;padding: 5px 5px; box-shadow: 1px 1px 5px rgba(0,0,0,0.5), inset 0 0 2px rgba(0,0,0,0.1); border: 1px solid white;" class="button btn btn-default fa fa-lg fa-refresh" ng-class="{\'text-warning\':editorform.editorta.$dirty}" ng-click=dowrap(b.content)></button> <button style="border-radius:0;padding: 5px 5px; box-shadow: 1px 1px 5px rgba(0,0,0,0.5), inset 0 0 2px rgba(0,0,0,0.1); border: 1px solid white;" class="button btn btn-default fa fa-lg fa-close" ng-class="{\'text-danger\':editorform.editorta.$dirty}" ng-click=doclose()></button></div></form><iframe id=draftdocument2 class="card card-block" ng-if="!poodle.showeditor && !config.versionhistory && !poodle.slidemode" name=draftrenderer seamless allowfullscreen ng-src="{{\'/files/uploads/\'+ draft.$id + \'.html\'}}" style=width:100%;height:80vh;></iframe><iframe id=draftdocument class="card card-block" ng-if="!poodle.showeditor && !config.versionhistory && poodle.slidemode" name=fframe seamless allowfullscreen ng-attr-srcdoc="{{draft.slide | trustAsHTML}}" style=width:100%;height:80vh;></iframe><button id=dragbutton class="dragbutton pull-right btn btn-default btn-sm fa" ng-class="{\'fa-edit text-info\':!poodle.showeditor,\'fa-save text-success\':poodle.showeditor, \'btn-danger\':!(editorform.editorta.$modelValue == editorform.editorta.$viewValue)}" style="width:2vw;height:2vw;border-radius:0;padding: 5px 5px;box-shadow:1px 1px 5px rgba(0,0,0,0.5), inset 0 0 2px rgba(0,0,0,0.1);border:1px groove white;position:absolute;top:25px;right:0;" ng-click="poodle.showeditor = !poodle.showeditor;" ng-if="inlab && !poodle.showeditor"></button> <button id=drabutton class="dragbutton pull-right btn btn-default btn-sm fa" ng-class="{\'fa-search text-info\':!poodle.showeditor,\'fa-search text-success\':poodle.showeditor, \'btn-danger\':!(editorform.editorta.$modelValue == editorform.editorta.$viewValue)}" style="width:2vw;height:2vw;border-radius:0;padding: 5px 5px;box-shadow:1px 1px 5px rgba(0,0,0,0.5), inset 0 0 2px rgba(0,0,0,0.1);border:1px groove white;position:absolute;top:0;right:0;" ng-click=openpreview(draft)></button> <button style="width:2vw;height:2vw;border-radius:0;padding: 5px 5px;box-shadow:1px 1px 5px rgba(0,0,0,0.5), inset 0 0 2px rgba(0,0,0,0.1);border:1px groove white;position:absolute;top:50px;right:0;" class="dragbutton pull-right btn btn-default btn-sm fa" ng-class="{\'fa-file-text-o\':(poodle.slidemode == false),\'fa-youtube-play\':(poodle.slidemode===true)}" ng-click="poodle.showeditor=false;poodle.slidemode = !poodle.slidemode"></button><footer class="navbar navbar-static-bottom navbar-inverse"><div class=container><p class=navbar-text>Mode: <span ng-show=poodle.slidemode>slide</span> <span ng-show=!poodle.slidemode>draft</span> <strong editable-text=config.filename>{{config.filename}}</strong></p><button id=dragbutton class="navbar-btn navbar-right btn btn-default btn-sm fa" ng-class="{\'fa-edit text-info\':!poodle.showeditor,\'fa-save text-success\':poodle.showeditor, \'btn-danger\':!(editorform.editorta.$modelValue == editorform.editorta.$viewValue)}" style="width:2vw;height:2vw;border-radius:0;padding: 5px 5px;box-shadow:1px 1px 5px rgba(0,0,0,0.5), inset 0 0 2px rgba(0,0,0,0.1);border:1px groove white;" ng-click="poodle.showeditor = !poodle.showeditor;" ng-if="inlab && !poodle.showeditor"></button> <button id=drabutton class="navbar-btn navbar-right btn btn-default btn-sm fa" ng-class="{\'fa-search text-info\':!poodle.showeditor,\'fa-search text-success\':poodle.showeditor, \'btn-danger\':!(editorform.editorta.$modelValue == editorform.editorta.$viewValue)}" style="width:2vw;height:2vw;border-radius:0;padding: 5px 5px;box-shadow:1px 1px 5px rgba(0,0,0,0.5), inset 0 0 2px rgba(0,0,0,0.1);border:1px groove white;;" ng-click=openpreview(draft)></button> <button style="width:2vw;height:2vw;border-radius:0;padding: 5px 5px;box-shadow:1px 1px 5px rgba(0,0,0,0.5), inset 0 0 2px rgba(0,0,0,0.1);border:1px groove white;" class="navbar-btn navbar-right btn btn-default btn-sm fa" ng-class="{\'fa-file-text-o\':(poodle.slidemode == false),\'fa-youtube-play\':(poodle.slidemode===true)}" ng-click="poodle.showeditor=false;poodle.slidemode = !poodle.slidemode"></button></div></footer></div>'),e.put("{widgetsPath}/testwidget/src/dashedit.html",'<div class="card-fancy card-rounded card-thick"><div class=card-header><button type=button class=close ng-click=closeDialog() aria-hidden=true>&times;</button><h4 class=modal-title>Edit Page</h4></div><div class="card card-block"><form role=form><div class=form-group><label for=dtitle>Title</label> <input type=text ng-model=config.title placeholder=Title></div><div class=form-group><label>Structure</label><div class=card-columns><div class="radio card {{key}}" ng-repeat="(key, structure) in structures"><label><input type=radio value={{key}} ng-model=model.structure ng-change="changeStructure(key, structure)"> {{key}}</label></div></div></div><div class=row><div class="form-group row"><label>Collapsible?</label> <input type=checkbox ng-model=dashboard.collapsible></div><div class="form-group row"><label>Maxizable?</label> <input type=checkbox ng-model=dashboard.maximizable></div><div class="form-group row"><label>Protected?</label> <input type=checkbox ng-model=dashboard.enableConfirmDelete></div></div><select ng-model=dashboard.styleClass ng-options="class.value as class.label for class in ROARCLASSES" class=form-control placeholder="Select Style..."></select></form><adf-dashboard name={{dashboard.title}} structure={{dashboard.structure}} collapsible={{dashboard.collapsible}} maximizable={{dashboard.maximizable}} enable-confirm-delete={{dashboard.enableConfirmDelete}} class={{dashboard.styleClass}} frameless={{dashboard.frameless}} continuous-edit-mode=false adf-model=dashboard.model></adf-dashboard></div><div class=card-footer><button type=button class="btn btn-primary card-link" ng-click=closeDialog()>Close</button></div></div>'),e.put("{widgetsPath}/testwidget/src/diff.html",'<div class=col-sm-6><pre>\n       \n       {{draft.content | json:4 | diff:editorform.editorta.$modelValue}}\n       \n   </pre></div><div class=col-sm-6><div ng-bind-html="draft.content | diff: editorform.editorta.$modelValue"></div></div>'),e.put("{widgetsPath}/testwidget/src/document.html",'<div class=card><section ng-repeat="(key, node) in node.roarlist" node="{{node.id || node}}"><label>{{node.title}}</label><ng-annotate-text text=node.content></ng-annotate-text><div ng-include="\'./document.html\'" ng-repeat="(key, node) in node.roarlist"></div></section></div>'),e.put("{widgetsPath}/testwidget/src/edit.html",'<form role=form><div class=form-group ui-tree><label for=draftid>Select Document</label><ol ui-tree-nodes ng-model=tree.roarlist><li ui-tree-node ng-repeat="node in tree.roarlist" ng-include="\'quicklinkid\'" node={{node}} data-collapsed=true></li></ol><script type=text/ng-template id=quicklinkid><div class="card card-rounded" ng-class="{\'text-success\': (config.id === node.id)}"> <a class="btn btn-xs" ng-click="toggle(this)" ng-if="node.roarlist" style=""><span class="fa " ng-class="{\'fa-chevron-right\': collapsed, \'fa-chevron-down\': !collapsed}" style="color:steelblue;transition:all 0.25s ease;"></span></a> <a ng-click="config.id = node.id;$close();" ng-class="{\'text-success\': (config.id === node.id)}" class=""><span class="fa fa-stack fa-pull-left fa-border"><span class="fa fa-stack-2x fa-file-o"><span class="fa fa-stack-1x" style="font-size: 10px;vertical-align:bottom;">{{node.rid}}</span></span></span>&nbsp;&nbsp;{{node.title}}<br><small class="text-muted">{{node.date | date}}</small></a> </div> <ol ui-tree-nodes="" ng-model="node.roarlist" ng-class="{hidden: collapsed}" style=""> <li class="" ng-repeat="(key, node) in node.roarlist" ui-tree-node ng-include="\'quicklinkid\'" style="padding-right:0rem;padding-bottom:0.1rem;" node="{{node.id || node.$id || node.$value || node}}" data-collapsed="true"> </li> </ol></script></div></form>'),e.put("{widgetsPath}/testwidget/src/editckeditor.html",'<form role=form><div class=form-group><label for=draftid>Style Configuration</label><select ng-model=config.modelfield><option ng-value="\'draftcontent\'" value="\'draftcontent\'" label=draft></option><option ng-value="\'slide\'" value="\'slide\'" label=slide></option></select><div class="form-group col-sm-4"><label for=renderversionhistory>Version History</label> <input type=checkbox ng-model=config.versionhistory></div></div></form>'),e.put("{widgetsPath}/testwidget/src/editembed.html",'<div class=card><button ng-click=push(newtab) class="btn btn-info fa fa-plus"></button> <label for=tabname>Enter Title</label> <input type=text ng-model=newtab.title><select ng-model=newtab.styleClass ng-options="class.value as class.label for class in ROARCLASSES"></select><label for=content>Enter embed code</label> <textarea name=content class=form-control ng-model=newtab.content></textarea></div><div style="overflow: scroll;"><h4>Edit existing sections:</h4><div class=card ng-repeat="tab in config.content track by $index"><label for=tabname>Edit Title</label> <input type=text name=tabname ng-model=tab.title> <label for=content>Edit Embed Code</label> <textarea name=content class=form-control ng-model=tab.content></textarea></div></div>'),e.put("{widgetsPath}/testwidget/src/embed.html",'<div class=expand><tabset class="ngDialogTab tab-stacked" vertical=true><tab ng-repeat="tab in tabs"><ul class=list-group-action><li class=list-group-item>{{tab.title}} <button class="circle btn btn-info fa fa-chevron-right fa-2x pull-right" ng-click=loadDashboard(tab.content)></button> <span class=show-menu><span class="glyphicon glyphicon-chevron-right"></span></span><ul class=list-group-submenu><li class="list-group-submenu-item success"><span class="glyphicon glyphicon-remove"></span></li><li class="list-group-submenu-item danger"><span class="glyphicon glyphicon-ok"></span></li></ul></li></ul></tab><tab ng-repeat="tab in config.content" class="btn {{tab.styleClass}}"><tab-heading>{{tab.title}}</tab-heading><div ng-bind-html=tab.content></div></tab></tabset></div>'),e.put("{widgetsPath}/testwidget/src/pdfview.html","<div ng-pdf=pdf.url ng-pdf-zoom=1 ng-pdf-template=\"'/llp_core/bower_components/angular-pdf-directive/build/partials/pdf.html'\"></div><pdf-viewer delegate-handle=pdf url=pdf.url scale=1 show-toolbar=true headers=\"{ 'Access-Control-Allow-Origin': '*' }\"></pdf-viewer>"),e.put("{widgetsPath}/testwidget/src/sidebar.html",'<div class={{config.styleClass}} ng-controller="EmbedCtrl as em"><tabset class="{{config.styleClass || \'alert alert-danger\'}}"></tabset></div>'),e.put("{widgetsPath}/testwidget/src/title.html",'<h5 class=card-title><a title="change widget location" class=adf-move ng-if=editMode><i class="fa fa-move img-shadow hovergold"></i></a> {{config.title || definition.title}} <a title="collapse widget" ng-show="options.collapsible && !widgetState.isCollapsed" ng-click="widgetState.isCollapsed = !widgetState.isCollapsed"><i class="fa fa-minus img-shadow hovergold"></i></a> <a title="expand widget" ng-show="options.collapsible && widgetState.isCollapsed" ng-click="widgetState.isCollapsed = !widgetState.isCollapsed"><i class="fa fa-plus img-shadow hovergold"></i></a> <span class=pull-right><a title="reload widget content" ng-if=widget.reload ng-click=reload()><i class="fa fa-refresh img-shadow hovergold"></i></a> <a title="edit widget configuration" ng-click=edit() ng-if=editMode><i class="fa fa-cog img-shadow hovergold"></i></a> <a title="fullscreen widget" ng-click=openFullScreen() ng-show=options.maximizable><i class="fa fa-fullscreen img-shadow hovergold"></i></a> <a title="remove widget" ng-click=remove() ng-if=editMode><i class="fa fa-remove img-shadow hovergold"></i></a></span></h5>'),e.put("{widgetsPath}/testwidget/src/view.html",'<div class=card-header><button id=dragbutton draggable ng-click="config.editable = !config.editable" class="dragbutton pull-left btn btn-default btn-sm fa fa-2x" ng-class="{\'fa-edit text-info\':!config.editable,\'fa-save text-success\':config.editable}" style="position:absolute;top:0;right:0;border-radius:0;padding: 5px 5px;box-shadow:1px 1px 5px rgba(0,0,0,0.25), inset 0 0 20px rgba(0,0,0,0.1);border:1px solid white;"></button><h4 class=card-title><span e-form=nameform editable-text=tree.contentlistname buttons=no onaftersave=tree.$save();><span ng-click=toc.opensubsection(tree) ng-if=tree.roarlist>{{tree.contentlistname || \'Contents\'}}</span> <span class="fa fa-edit showonhover" ng-click=nameform.$show()></span> <small class=pull-right><a class="fa fa-plus text-warning" ng-if=config.editable ng-click=toc.newtopsection()></a></small></span></h4></div><div ng-if=tree.roarlist><div ui-tree=treeOptions style=cursor:pointer!important;><ol ui-tree-nodes max-depth=6 ng-model=tree.roarlist><li ui-tree-node class=card ng-repeat="(key,node) in tree.roarlist" ng-include="\'nodes_renderer1.html\'" style=padding-right:0rem;padding-bottom:0.1rem; node="{{node.id || node}}" data-collapsed=true></li></ol></div></div><script type=text/ng-template id=nodes_renderer1.html><div ui-tree-handle class="tree-node tree-node-content"> <div class="tree-node-content flextoprow " style="position:relative;"> <a class="btn btn-xs" ng-click="toggle(this)" ng-if="node.roarlist" style=""><span class="fa " ng-class="{\'fa-chevron-right\': collapsed, \'fa-chevron-down\': !collapsed}" style="color:steelblue;transition:all 0.25s ease;"></span></a> <input type="text" ng-model="node.title" ng-change="node.$save();" ng-model-options="{ updateOn: \'default blur\', debounce: {\'default\': 1000, \'blur\': 0} }" style="padding: 0.5rem;color:#444;" ng-if="config.editable"> <a class="btn btn-xs" ng-click="revealclipboard(node.$id)"><span class="fa fa-paste showonhover"></span></a> <a class="btn showonhover" ng-if="config.editable" ng-click="remove(this);collection.$save();"><span class="fa fa-close text-danger "></span></a> <!--<a class="btn " ng-if="config.editable" ng-click="toc.newsubsection(this)" style=""><span class="fa fa-plus text-success"></span></a>--> <a class="gototarget btn" ui-sref="toptab.righttab({pageid: node.$id, tabid: node.$id})" style=""> <span ng-if="!config.editable" class="" style="word-wrap:break-word;">{{node.title}}</span><i style="position:absolute;right:0;">&nbsp;</i></a> <dropdownmenu target="{{node.$id}}" type="insert" icon="fa-plus"></dropdownmenu> </div> </div> <ol ui-tree-nodes="" ng-model="node.roarlist" ng-class="{hidden: collapsed}" ng-if="!collapsed" style=""> <li class="" ng-repeat="(key, node) in node.roarlist" ui-tree-node ng-include="\'nodes_renderer1.html\'" style="padding-right:0rem;padding-bottom:0.1rem;" node="{{node.id || node.$id || node.$value || node}}" data-collapsed="true" > </li> </ol></script>')}])}(window);