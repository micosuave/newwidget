
<div  class="card" style="margin: -0.1rem;padding: 0.1rem;text-align: left;overflow: scroll; height: 60rem;border: 0rem solid #110000;box-shadow:0 0 0 transparent;" ng-if="config.showeditor">
    <!--<a ng-click="updateid()" class="fa fa-refresh"></a>-->

<div class="card-header" ng-show="draft.isnotRoot"><h3 class="card-title">{{draft.title}}</h3></div>
                   <!-- <textarea ui-tinymce="tinyMceOptions" mentio mentio-typed-text="typedTerm" 
                            mentio-items="simplePeople | filter:label:typedTerm" ng-model='foo'
                            mentio-iframe-element="iframeElement"></textarea> -->
                            <!--<textarea  id="{{config.id}}"  ckeditor="ckdefault" ng-model="draft.content" ng-model-options="{ updateOn: 'default blur', debounce: {'default':30000,'blur': 0} }" class="card card-block "   style="width:100%;min-height:500px;font-size:12px;color:#444;"></textarea>-->
    <form name="editorform" ng-submit="draft.$save();">                    
   <textarea id="{{config.id}}" name="editorta" ng-change="draft.$save()"  ckeditor="ckdefault" ng-model="draft.content" ng-model-options="{ updateOn: 'default blur', debounce: {'default': 500, 'blur': 0} }" class="card card-block "   style="width:100%;min-height:500px;font-size:12px;color:#444;"></textarea>
   
   <div class="col-sm-6">
   <pre>
       
       {{draft.content | json:4 | diff:editorform.editorta.$modelValue}}
       
   </pre>
   </div>
   <div class="col-sm-6">
       <div ng-bind-html="draft.content | diff: editorform.editorta.$modelValue"></div>
       </div>
   </form>
   </div>
   <!--<ng-annotate-text text="draft.content" id="draftdocument" class="card card-block {{draft.renderClass}}" ng-if="!config.showeditor" ng-attr-srcdoc="{{draft.content}}" style="width:100%;min-height:500px;" class=""></ng-annotate-text>-->
   <iframe id="draftdocument2" class="card card-block" ng-show="!config.showeditor" ng-attr-srcdoc="{{draft.content}}" style="width:100%;min-height:500px;" ><ng-annotate-text text="draft.content"></ng-annotate-text></iframe>
    
   <div id="" class="pull-right" uib-dropdown uib-keyboard-nav dropdown-append-to-body style="position:absolute;top:0;right:0;">
        <button id="dragbutton" draggable class="dragbutton pull-right btn btn-default btn-sm fa fa-2x" ng-class="{'fa-edit text-info':!config.showeditor,'fa-save text-success':config.showeditor, 'btn-danger':!(editorform.editorta.$modelValue == editorform.editorta.$viewValue)}" style="position:absolute;top:-25px;right:-25px;border-radius:50%;padding: 5px 5px;box-shadow:1px 1px 5px rgba(0,0,0,0.5), inset 0 0 2px rgba(0,0,0,0.1);border:1px solid white;" uib-dropdown-toggle></button>
        <ul class="uib-dropdown-menu dropdown-menu-right">
            <li class="{{menuitem.styleClass}}" ng-repeat="menuitem in menu.items">
                <a ng-click="menuitem.onClick(draft)" class="fa fa-2x {{menuitem.icon}} {{menuitem.styleClass}}">&nbsp;&nbsp;&nbsp;&nbsp;{{menuitem.label}}</a>
                <li>
        </ul>
    </div>     
     <!--<ng-annotate-text text="draft.content" class="eventdigest card" style="background-color: #fff;padding: 1rem;border-radius: 0.2rem;" annotations="annotations" readonly="false" popup-controller="'AnnotationController'" popup-template-url="'/llp_core/modules/roarmap/partial/roarmap.detail.tpl/roarmap.annotation.tpl.html'"
    tooltip-controller="'AnnotationController'" tooltip-template-url="'/llp_core/modules/roarmap/partial/roarmap.detail.tpl/roarmap.annotation-tooltip.tpl.html'" on-annotate="onAnnotate" on-annotate-delete="onAnnotateDelete" on-annotate-error="onAnnotateError"
    on-popup-show="onPopupShow" on-popup-hide="onPopupHide" popup-offset="50">
    
    </ng-annotate-text>
    <ul>
        <li ng-repeat="a in annotationsAsFlatList(annotations)">
            {{a.data.comment}}
            <span ng-if="a.data.points">
              ({{a.data.points}}
              <ng-pluralize
                  count="a.data.points"
                  when="{'-1': 'point', '1': 'point', 'other': 'points'}"></ng-pluralize>)
            </span>
        </li>
    </ul>-->
   <!--<textarea ng-model="inputhtml" class="card card-dark"></textarea>-->
   <!--<iframe srcdoc="{{inputhtml | trustAsHTML}}" width="100%" ></iframe>-->
   
       <!-- <div id="draftdocument" class="{{draft.renderClass}}" ng-if="!pj.editable" style="">
          <h1 ng-show="draft.isnotRoot">{{draft.title || draft.name}}</h1>
            <ng-annotate-text text="draft.content" class=""></ng-annotate-text>
                <!--<iframe srcdoc="{{draft.content | trustAsHTML}}" style="width:100%;" class=""></iframe>--
                <div class="" ng-repeat="node in draft.roarlist" node="{{node.id || node}}" style="margin-left:0.25rem;">
                    <h2 class="" style="">{{node.title}}</h2>
                    <ng-annotate-text text="node.content" class=""></ng-annotate-text>
                   <!--<iframe srcdoc="{{node.content | trustAsHTML}}" style="width:100%;" class=""></iframe>--
                    <div class="" ng-repeat="node in node.roarlist" node="{{node.id || node}}" style="margin-left:0.5rem;">
                        <h3 class="" style="">{{node.title}}</h3>
                        <ng-annotate-text text="node.content" class=""></ng-annotate-text>
                        <!--<iframe srcdoc="{{node.content | trustAsHTML}}" style="width:100%;" class=""></iframe>--
                        <div class="" ng-repeat="node in node.roarlist" node="{{node.id || node}}" style="margin-left:0.75rem;">
                            <h4 class="" style="">{{node.title}} </h4>
                            <ng-annotate-text text="node.content" class=""></ng-annotate-text>
                           <!--<iframe srcdoc="{{node.content | trustAsHTML}}" style="width:100%;" class=""></iframe>--
                            <div class="" ng-repeat="node in node.roarlist" node="{{node.id || node}}" style="margin-left:1rem;">
                                <h5 class="" style="">{{node.title}}</h5>
                                <ng-annotate-text text="node.content" class=""></ng-annotate-text>
                                <!--<iframe srcdoc="{{node.content | trustAsHTML}}" style="width:100%;" class=""></iframe>--
                                <div class="" ng-repeat="node in node.roarlist" node="{{node.id || node}}" style="margin-left:1.25rem;">
                                    <h6 class="" style="">{{node.title}}</h6>
                                    <ng-annotate-text text="node.content" class=""></ng-annotate-text>
                                    <!--<iframe srcdoc="{{node.content | trustAsHTML}}" style="width:100%;" class=""></iframe>--
                                    <div class="" ng-repeat="node in node.roarlist" node="{{node.id || node}}" style="margin-left:1.5rem;">
                                      <label class=""  style="">{{node.title}}</label>
                                      <ng-annotate-text text="node.content" class=""></ng-annotate-text>
                                      <!--<iframe srcdoc="{{node.content | trustAsHTML}}" style="width:100%;" class=""></iframe>--
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
  
